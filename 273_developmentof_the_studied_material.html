<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <h1>Section <a href="https://code.mu/ru/javascript/book/prime/dom/basis/practicum/">273</a></h1>


  <h2>Task 1</h2>
  <p>Дан инпут и абзац. По потери фокуса в инпуте запишите значение инпута в конец текста абзаца.</p>

  <input id="input1">
  <p id="paragraph1">text: </p>

  <h2>Task 2</h2>
  <p>Дано несколько инпутов, абзац и кнопка. По нажатию на кнопку получите числа, стоящие в этих инпутах и запишите их сумму в абзац.</p>

  <input class="inputs2">
  <input class="inputs2">
  <input class="inputs2">

  <p id="paragraph2">sum: </p>

  <button id="button2">click</button>

  <h2>Task 3</h2>
  <p>Дан инпут. В него вводится число. По потери фокуса найдите сумму цифр этого числа.</p>

  <input id="input3">

  <h2>Task 4</h2>
  <p>Дан инпут. В него вводятся числа через запятую. По потери фокуса найдите среднее арифметическое этих чисел (сумма делить на количество).</p>

  <input id="input4">

  <h2>Task 5</h2>
  <p>Даны 4 инпута. В первый инпут вводится ФИО через пробел. По потери фокуса запишите фамилию, имя и отчество в остальные 3 инпута.</p>

  <input id="name5">

  <input class="inputs5">
  <input class="inputs5">
  <input class="inputs5">

  <h2>Task 6</h2>
  <p>Дан инпут. В него вводится ФИО через пробел. ФИО вводится с маленькой буквы. Сделайте так, чтобы по потери фокуса инпутом, введенные фамилия, имя и отчество автоматически стали записанными с большой буквы (в этом же инпуте).</p>

  <input id="name6">

  <h2>Task 7</h2>
  <p>Дан инпут. В него вводится текст. По потери фокуса узнайте количество слов в этом тексте</p>

  <input id="name7">

  <h2>Task 8</h2>
  <p>Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса в этом же инпуте поставьте эту дату в формате 2016-12-31..</p>

  <input id="input8">

  <h2>Task 9</h2>
  <p>Дан инпут. В него вводится слово. По нажатию на кнопку проверьте то, что это слово читается с начала и с конца одинаково (например, мадам).</p>

  <input id="input9">
  <button id="button9">click</button>

  <h2>Task 10</h2>
  <p>Дан инпут. В него вводится число. Проверьте по потери фокуса, что это число содержит внутри себя цифру 3.</p>

  <input id="input10">

  <h2>Task 11</h2>
  <p>Даны несколько абзацев и кнопка. По нажатию на кнопку запишите в конец каждого абзаца его порядковый номер.</p>

  <p class="elems11">text</p>
  <p class="elems11">text</p>
  <p class="elems11">text</p>

  <button id="button11">click</button>

  <h2>Task 12</h2>
  <p>Даны ссылки. Добавьте в конец каждой ссылки ее href в круглых скобках.</p>

  <a class="links12" href="https://www">text</a>
  <a class="links12" href="https://www">text</a>
  <a class="links12" href="https://www">text</a>

  <h2>Task 13</h2>
  <p>Даны ссылки. Если ссылка начинается с http://, то добавьте ей в конец стрелку → (делается так: &rarr;).</p>

  <a class="links13" href="rrr://www">делается так:</a>
  <a class="links13" href="rrr://www">делается так:</a>
  <a class="links13" href="http://www">делается так:</a>

  <h2>Task 14</h2>
  <p>Даны несколько абзацев с числами. По нажатию на любой абзац запишите в него квадрат числа, которое в нем находится.</p>

  <p class="elems14">2</p>
  <p class="elems14">3</p>
  <p class="elems14">4</p>

  <h2>Task 15</h2>
  <p>Дан инпут. В него вводится дата в формате 31.12.2016. По потери фокуса узнайте день недели (словом), который приходится на эту дату.</p>

  <input id="input15">

  <h2>Task 16</h2>
  <p>Дан инпут. Реализуйте кнопочки +1, -1, которые будут увеличивать или уменьшать на 1 значение инпута. Сделайте так, чтобы это значение не могло стать меньше нуля.</p>

  <input id="input16"> 
  <button class="buttonIncreaseByOne"> +1 </button>
  <button class="buttonDecreaseByOne"> -1</button>


  <h2>Task 17</h2>
  <p>Дан инпут. Даны абзацы. Пусть в этот инпут записывается суммарное количество нажатий по этим абзацам.</p>

  <input id="input17"> 

  <p class="elems17">text</p>
  <p class="elems17">text</p>
  <p class="elems17">text</p>

  <h2>Task 18</h2>
  <p>На странице есть дивы. В них есть текст. Обойдите все дивы и обрежьте тот текст, который в них стоит так, чтобы он стал длиной 10 символов. И добавьте троеточие в конец обрезанного текста</p>

  <div class="elems18">A leopard cannot change its spots</div>
  <div class="elems18">A leopard cannot change its spots</div>
  <div class="elems18">A leopard cannot change its spots</div>

  <h2>Task 19</h2>
  <p>Дан инпут. В него вводится число. По потери фокуса проверьте, что в нем лежит число от 1 до 100. Если это так - покрасьте инпут в зеленый цвет, а если не так - в красный.</p>

  <h2>Task 20</h2>
  <p>Дан инпут и кнопка. По нажатию на кнопку сгенерируйте случайную строку из 8-ми символов и запишите в инпут.</p>

  <h2>Task 21</h2>
  <p>Дан инпут и кнопка. Пользователь вводит в инпут какую-то строку. По нажатию на кнопку перемешайте введенные символы случайным образом и запишите ее обратно в инпут.</p>

  <h2>Task 22</h2>
  <p>Дан инпут, кнопка и абзац. В инпут вводится температура в градусах Фаренгейта. По клику на кнопку выведите в абзац температуру в градусах Цельсия.</p>

  <h2>Task 23</h2>
  <p>Дан инпут, кнопка и абзац. В инпут вводится число. По нажатию на кнопку выведите в абзац факториал этого числа.</p>

  <h2>Task 24</h2>
  <p>Даны 3 инпута, кнопка и абзац. В инпуты вводятся коэффициенты квадратного уравнения. По нажатию на кнопку найдите корни этого уравнения и выведите их в абзац.</p>


 <script>

//1
const input1 = document.querySelector('#input1');
const paragraph1 = document.querySelector('#paragraph1');

input1.addEventListener('blur', function() {
  paragraph1.textContent += input1.value;
});

//2 

const inputs2 = document.querySelectorAll('.inputs2');
const paragraph2 = document.querySelector('#paragraph2');
const button2 = document.querySelector('#button2');

button2.addEventListener('click', function() {
  let sum = 0;
  for (let input2 of inputs2) {
    sum += Number(input2.value);
  }
  paragraph2.textContent = sum;
});

//3

// const input3 = document.querySelector('#input3');//рабочая 

// input3.addEventListener('blur', function() {
//   let sum = 0;
//   let str = input3.value;
//   let arr = str.split('');

//   for (let i = 0; i < arr.length; i++) {
// 		sum += +arr[i];
// 	}
//   alert(sum);
// });

const input3 = document.querySelector('#input3');

input3.addEventListener('blur', function() {
  let str = input3.value;
  let arr = ("" + str).split("").map(Number).reduce(function(a, b) { //https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/map
  
  return  a + b;
   
});
  alert(arr);
});

//4

const input4 = document.querySelector('#input4');

input4.addEventListener('blur', function() { 
  let str = input4.value;
  let sum = 0;
  let arr = str.split(',');
    for (let i = 0; i < arr.length; i++) {
		sum += +arr[i];
	}
  alert(sum/arr.length);
});

//5

const name5 = document.querySelector('#name5');
const inputs5 = document.querySelectorAll('.inputs5');

name5.addEventListener('blur', function() {
  let str = name5.value;
  let arr = str.split(' ');
  for (let i = 0; i < arr.length; i++) {
    inputs5[i].value = arr[i];
  }
});


  // inputs5.forEach((i, index) => {
  //   i.value = arr[index];
  // })

//6 

const name6 = document.querySelector('#name6');

name6.addEventListener('blur', function() {
  // let arr = name6.value.split(' ');
  // for(let i = 0; i < arr.length; i++){
	// 	arr[i] = arr[i].toUpperCase;
	// }
  // name6.value = arr.join(' ');

  const str = name6.value.split(' ').map(i => i[0].toUpperCase() + i.substring(1)).join(' ');//https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/substring
  name6.value = str;
});


//7


const name7 = document.querySelector('#name7');
name7.addEventListener('blur', amountWords);

function amountWords() {
//  let num = 0;
 const str = name7.value;
 const arr = str.split(' ');
//  for (let i = 0; i < arr.length; i++) {
// 		num += 1;
    
//  }
//alert(num);
  alert(arr.length);
}

//8

const input8 = document.querySelector('#input8');
input8.addEventListener('blur', changeDateFormat);

function changeDateFormat() {
	const str = input8.value; 
	let arr = str.split('.');
  arr = arr.reverse();
	const str1 = arr.join('-');
	input8.value = str1;
} 

//9

const input9 = document.querySelector('#input9');
const button9 = document.querySelector('#button9');
button9.addEventListener('click', checkPalindrome);

function checkPalindrome() {
  const str = input9.value;
  const arr = str.split('');//почкму не нужен split, если надо разобрать слово на элементы и перебирать элементы массива?
  const reversedArr = str.split('').reverse();
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] !== reversedArr[i]) {
      alert("it's a not palindrome");
      return;
    }
    if (arr[i] === ' ') {//почему с пробелом в строке работает , а с пустой стокой нет 
      alert("enter a word to check");
      return;
    }
  }
  alert("it's a  palindrome");
}


// const elems2 = document.querySelectorAll('.elem2');

// for (const elem2 of elems2) {
//   elem2.addEventListener('click', function func2() {
//     elem2.textContent ++;
//     this.removeEventListener('click', func2)
//   });
// }

//10

const input10 = document.querySelector('#input10');
input10.addEventListener('blur', checkNumber);

// function checkNumber() {
//   const str = input10.value;
//   const arr = str.split(''); 
//   for (let i = 0; i < arr.length; i++) {
//     if (+arr[i] === 3) {
//       alert("число содержит 3");
//       return;
//     }
//   }
//   alert("число не содержит 3");
// }

function checkNumber() {
  const str = input10.value;
  const arr = str.split(''); 
  for (const elem of arr) {
    if (+arr[elem] === 3) {
      alert("число содержит 3");
      return;
    }
  }
  alert("число не содержит 3");
}

//11

const elems11 = document.querySelectorAll('.elems11');
const button11 = document.querySelector('#button11');

// button11.addEventListener('click', function() {
//   for (let i = 0; i < elems11.length; i++) {
//     elems11[i].textContent = elems11[i].textContent + ' ' + (i + 1);
//   }
// });

for (let i = 0; i < elems11.length; i++) {
  this.addEventListener('click', function findSerialNumber() {
    elems11[i].textContent = elems11[i].textContent + ' ' + (i + 1);
  });
}

//12

// const links12 = document.querySelectorAll('.links12');

// function addLIink() {
//   for (let i = 0; i < links12.length; i++) {
//     links12[i].textContent = links12[i].textContent + '(' + links12[i].href +')';
//   }
// }

// const links12 = document.querySelectorAll('.links12');

// function addLIink() {
//  links12.forEach(item => item.textContent = `${item.textContent}(${item.href})` );
// }

// addLIink();

const links12 = document.querySelectorAll('.links12');

function addLIink() {
  links12.forEach(function(item) {
    item.textContent = `${item.textContent}(${item.href})`
  }); 
}

addLIink();


//13

const links13 = document.querySelectorAll('.links13');

function addArrow() {
  for (let i = 0; i < links13.length; i++ ) {
    if (links13[i].href.indexOf('http://') === 0) { //indexOf Поиск начнется с указанной позиции или сначала массива, если начальная позиция не указана, как в данном случае 
      links13[i].append('→');//append вставляет строки с текстом в конец (cтроки с текстом вставляются как текстовое содержимое).
    }
  }
}

addArrow()

// const links13 = document.querySelectorAll('.links13');

// function addArrow() {
//   links13.forEach(item => {
//     if (item.href.includes('http://')) {
//       item.textContent = `${item.textContent} →`;
//     }
//   });
// }

// addArrow();

//14

//const elems14 = document.querySelectorAll('.elems14');

//for (let i = 0; i < elems14.length; i++) {
//  elems14[i].addEventListener('click', function() {
//    elems14[i].textContent *= elems14[i].textContent;
//  });
//}

const elems14 = document.querySelectorAll('.elems14');

for (let i = 0; i < elems14.length; i++) {//for ... of не работает 
	elems14[i].addEventListener('click', makNumberSquare);
}

function makNumberSquare() {
	this.textContent **= 2;
}

//15

// const input15 = document.querySelector('#input15');
// const dayWeak = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];

// input15.addEventListener('blur', function() { 
//   const str = input8.value; 
//   const arr = str.split('.').reverse().join(',');
//   const nawDate = new Date(arr);
//   const dayName = nawDate.getDay();
//   alert(dayWeak[dayName]);  
// });

// пока в ступоре 


//16

// const input16 = document.querySelector('#input16');
// const buttonIncreaseByOne = document.querySelector('#button16IncreaseByOne');
// const buttonDecreaseByOne = document.querySelector('#button16DecreaseByOne');

// buttonIncreaseByOne.addEventListener('click', function() {
//   input16.value = + input16.value + 1;
// });

// buttonDecreaseByOne.addEventListener('click', function() {
//   if (input16.value <= 0) {
//     input16.value = 1;
//   }
//     input16.value -= 1; 
// });
//перестало работать

//17

const input17 = document.querySelector('#input17');
const elems17 = document.querySelectorAll('.elems17');

for (let i = 0; i < elems17.length; i++) {
  // var sum = 0; можно переменную объявить таким образом тоже работает 
  elems17[i].addEventListener('click', sumClicks);

}

// function sumClicks() { 
//   let result;  
//   input17.getAttribute('dat', result ++);
// }



let sum = 0;
function sumClicks() {  
  sum++;
  input17.value = sum;
}




// for (let i = 0; i < elems17.length; i++) {
//   elems17[i].addEventListener('click', function() {
//     let sum = 0;
//     sum ++;
//     input17.value = sum;
//   });
// }


// for (let i = 0; i < elems17.length; i++) {
//   elems17[i].addEventListener('click', sumClicks);
// }

// console.log(elems17[i]);

// function sumClicks() {
//   let sum = 0;
//   sum++;
//   input17.value = sum;
// }

//18

const elems18 = document.querySelectorAll('.elems18');

for (let i = 0; i < elems18.length; i++) {
  let str = '';
  str = elems18[i].textContent.slice(0, 10) + '...';
  elems18[i].textContent = str;
}


//поработала что то исправила что то не вышло , добавила пр что бы не запутаться окончательно 

 </script>
</body>
</html>